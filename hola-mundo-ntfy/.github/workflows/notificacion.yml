name: Enviar Notificaci贸n a ntfy - David Guerrero

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  notificar:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v4

      - name: Configurar Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Ejecutar Hola Mundo
        run: node index.js

      - name: Enviar notificaci贸n a ntfy
        uses: niniyas/ntfy-action@master
        if: always()
        with:
          url: 'https://ntfy.sh'
          topic: 'devops-itla-david'  # Tu t贸pico personal
          title: ' David Guerrero - ITLA'
          priority: 4
          tags: 'DavidGuerrero,itla,devops,github-actions'
          details: |
             **Repositorio**: hola-mundo-ntfy
             **Usuario ntfy**: DavidGuerrero
             **Commit**: ${{ github.sha }}
             **Mensaje**: ${{ github.event.head_commit.message }}
             **Fecha**: $(date)
             **Ver cambios**: ${{ github.event.compare }}
             **Asignatura**: DevOps - ITLAname: Enviar Notificaci贸n a ntfy

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  notificar:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v4

      - name: Configurar Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Ejecutar Hola Mundo
        run: node index.js

      - name: Enviar notificaci贸n a ntfy
        uses: niniyas/ntfy-action@master
        if: always()
        with:
          url: 'https://ntfy.sh'
          topic: 'devops-itla-david'  #  TPICO PERSONAL
          title: ' David Guerrero - Actualizaci贸n'
          priority: 4
          tags: 'david,guerrero,itla,github-actions'
          details: |
             Repositorio: hola-mundo-ntfy
             Commit: ${{ github.sha }}
             Mensaje: ${{ github.event.head_commit.message }}
             Autor: David Guerrero
             Fecha: $(date)
             Ver cambios: ${{ github.event.compare }}
